<header class="px-4 sm:px-8 lg:px-14 relative z-50" [ngClass]="isScrolled ? 'bg-white shadow-md' : 'bg-transparent'">
    <div class="flex items-center justify-between py-4 lg:py-5">
        <!-- Logo -->
        <div>
            <img [src]="logo" class="w-32 sm:w-40 lg:w-48" alt="Carebridge Logo">
        </div>

        <!-- Desktop Navigation -->
        <div class="hidden lg:flex items-center gap-8" *ngIf="!isLoading">
            <ul class="flex items-center gap-8">
                <li *ngFor="let item of navigationItems">
                    <a [routerLink]="item.route" 
                       [ngClass]="{
                           'font-customBold': currentRoute === item.route,
                           'font-customRegular': currentRoute !== item.route
                       }" 
                       class="cursor-pointer text-base font-customRegular text-primaryColor hover:font-customBold transition-all">
                        {{ item.label }}
                    </a>
                </li>
            </ul>
            <button type="button" routerLink="/contact-us" class="theme-button py-3 px-4">{{ ctaButtonText }}</button>
        </div>

        <!-- Loading State for Desktop -->
        <div class="hidden lg:flex items-center gap-8" *ngIf="isLoading">
            <div class="animate-pulse flex space-x-8">
                <div class="h-4 bg-gray-300 rounded w-12"></div>
                <div class="h-4 bg-gray-300 rounded w-12"></div>
                <div class="h-4 bg-gray-300 rounded w-16"></div>
                <div class="h-4 bg-gray-300 rounded w-14"></div>
                <div class="h-4 bg-gray-300 rounded w-12"></div>
                <div class="h-4 bg-gray-300 rounded w-10"></div>
            </div>
            <div class="h-10 bg-gray-300 rounded w-24 animate-pulse"></div>
        </div>

        <!-- Mobile Menu Button -->
        <div class="lg:hidden">
            <button 
                type="button" 
                class="p-2 text-primaryColor hover:text-secondaryColor transition-colors"
                (click)="toggleMobileMenu()"
                [attr.aria-expanded]="isMobileMenuOpen"
                aria-label="Toggle mobile menu">
                <!-- Hamburger Icon -->
                <svg *ngIf="!isMobileMenuOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
                <!-- Close Icon -->
                <svg *ngIf="isMobileMenuOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div 
        class="lg:hidden absolute top-full left-0 w-full transition-all duration-300 ease-in-out"
        [ngClass]="{
            'opacity-100 visible translate-y-0': isMobileMenuOpen,
            'opacity-0 invisible -translate-y-4': !isMobileMenuOpen
        }"
        [style.background-color]="isScrolled ? 'white' : 'rgba(255, 255, 255, 0.95)'"
        style="backdrop-filter: blur(10px);">
        
        <div class="px-4 py-6 border-t border-gray-100 shadow-lg" *ngIf="!isLoading">
            <ul class="space-y-4">
                <li *ngFor="let item of navigationItems">
                    <a [routerLink]="item.route" 
                       (click)="closeMobileMenu()"
                       [ngClass]="{
                           'font-customBold text-secondaryColor': currentRoute === item.route,
                           'font-customRegular text-primaryColor': currentRoute !== item.route
                       }" 
                       class="block py-2 px-4 text-base rounded-lg hover:bg-gray-50 transition-all">
                        {{ item.label }}
                    </a>
                </li>
            </ul>
            
            <!-- Mobile CTA Button -->
            <div class="mt-6 pt-4 border-t border-gray-100">
                <button 
                    type="button" 
                    routerLink="/contact-us" 
                    (click)="closeMobileMenu()"
                    class="theme-button w-full py-3 px-4 text-center">
                    {{ ctaButtonText }}
                </button>
            </div>
        </div>
        
        <!-- Mobile Loading State -->
        <div class="px-4 py-6 border-t border-gray-100 shadow-lg" *ngIf="isLoading">
            <div class="space-y-4 animate-pulse">
                <div class="h-4 bg-gray-300 rounded w-16"></div>
                <div class="h-4 bg-gray-300 rounded w-12"></div>
                <div class="h-4 bg-gray-300 rounded w-20"></div>
                <div class="h-4 bg-gray-300 rounded w-14"></div>
                <div class="h-4 bg-gray-300 rounded w-16"></div>
                <div class="h-4 bg-gray-300 rounded w-10"></div>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div 
        *ngIf="isMobileMenuOpen"
        class="lg:hidden fixed inset-0 bg-black bg-opacity-20 z-[-1] transition-opacity duration-300"
        (click)="closeMobileMenu()">
    </div>
</header>