<section class="pb-10">
    <div class="absolute top-0 end-0 w-full z-[-1]">
        <img src="/images/top-bg.png" class="w-[75%] absolute top-0 end-0" alt="">
    </div>

    <div *ngIf="isLoading" class="px-4 sm:px-8 lg:px-32 pt-8 sm:pt-12 lg:pt-16">
        <div class="flex justify-center items-center h-64">
            <div class="animate-spin rounded-full h-32 w-32 border-b-2 border-primaryColor"></div>
        </div>
    </div>

    <div *ngIf="!isLoading" class="px-4 sm:px-8 lg:px-32 pt-8 sm:pt-12 lg:pt-16">
        <div>
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-customSemiBold text-primaryColor capitalize text-center">
                {{ headerContent.main_title || "We're here to" }}<br> 
                <span class="text-secondaryColor">{{ headerContent.subtitle || 'guarantee your success' }}</span>
            </h2>
        </div>

        <div class="mt-16 sm:mt-24 lg:mt-40">
            <div class="bg-[#005783] p-6 sm:p-8 lg:p-10 rounded-2xl lg:rounded-3xl w-full pb-20 sm:pb-30 lg:pb-40">
                <p class="text-base sm:text-lg lg:text-xl text-white font-customLight leading-7 sm:leading-8 lg:leading-9">
                    {{ companyContent.description || "At Carebridge Technologies, a subsidiary of Maestros Electronics, we're driven by one goal: to connect people to careâ€”anywhere, anytime." }}
                </p>
            </div>

            <div class="w-[95%] sm:w-[90%] mx-auto relative top-[-40px] sm:top-[-60px] lg:top-[-80px]">
                <img [src]="companyContent.image || '/images/untitled.png'" 
                     class="w-full rounded-xl shadow-lg" 
                     [alt]="headerContent.main_title"
                     onerror="this.src='/images/untitled.png'">
            </div>
        </div>

        <div class="mt-8 lg:mt-10">
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-customSemiBold text-primaryColor text-center">
                {{ missionContent.section_title || "We're here for you" }}<br> 
                <span class="text-secondaryColor">{{ missionContent.section_subtitle || 'no matter where you are' }}</span>
            </h2>
            <div class="w-[60%] sm:w-[50%] lg:w-[40%] mx-auto h-1 bg-secondaryColor mt-3"></div>
        </div>

    </div>

    <div class="mt-12 sm:mt-16 lg:mt-20">
        <img [src]="missionContent.world_map || '/images/WorldMap.png'" 
             class="w-full h-full object-cover" 
             alt="World Map"
             onerror="this.src='/images/WorldMap.png'">
    </div>

    <div class="mt-12 sm:mt-16 lg:mt-20 px-4 sm:px-8 lg:px-32">
        <div>
        <div>
                <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor capitalize text-center">
                    {{ missionContent.mission_title || 'Our' }} 
                    <span class="text-secondaryColor">{{ missionContent.mission_subtitle || 'Mission' }}</span>
                </h2>
                <p class="mt-3 text-sm sm:text-base font-customRegular text-[#3E3E3E] text-center w-full sm:w-[80%] lg:w-[50%] mx-auto px-4 sm:px-0">
                    {{ missionContent.mission_description || 'Build a wellness ecosystem that empowers individuals.' }}
                </p>
            </div>

            <div class="mt-8 sm:mt-10 lg:mt-14 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10">
                <div *ngFor="let feature of missionContent.features" class="grid gap-4 place-content-baseline">
                    <div class="w-16 sm:w-20 lg:w-[20%] mx-auto">
                        <img [src]="feature.icon || '/images/ImagePlaceholder.png'" 
                             class="w-full rounded-md object-contain" 
                             [alt]="feature.title"
                             onerror="this.src='/images/ImagePlaceholder.png'">
                    </div>
                    <div class="grid gap-2 w-full lg:w-[88%] text-center mx-auto">
                        <h4 class="text-lg sm:text-xl font-customBold text-black">{{ feature.title }}</h4>
                        <p class="text-sm sm:text-base text-[#00000099] font-customRegular">{{ feature.description }}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-12 sm:mt-16 lg:mt-20">
            <div>
                <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor capitalize text-center">
                    {{ statisticsContent.section_title || 'Our' }} <span class="text-secondaryColor">{{ statisticsContent.section_subtitle || 'Commitment' }}</span>
                </h2>
                <p class="mt-3 text-sm sm:text-base font-customRegular text-[#3E3E3E] text-center">
                    {{ statisticsContent.section_description }}
                </p>
            </div>
            <div class="mt-8 sm:mt-10 lg:mt-14 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10">
                <div *ngFor="let stat of statisticsContent.items" class="border border-[#99D7C3] p-5 sm:p-6 lg:p-7 rounded-xl bg-white hover:shadow-md transition-shadow">
                    <h2 class="text-3xl sm:text-4xl font-customBold text-primaryColor">{{ stat.number }}<span class="text-secondaryColor">{{ stat.symbol }}</span>
                    </h2>
                    <div class="mt-4 sm:mt-5">
                        <p class="font-customBold text-black text-lg sm:text-xl">{{ stat.title }}</p>
                        <p class="text-[#3E3E3E] text-sm sm:text-base font-customRegular pt-2 lg:pe-10">{{ stat.description }}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-12 sm:mt-16 lg:mt-20">
            <div>
                <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor capitalize text-center">
                    {{ teamSectionContent.section_title || 'Meet Our' }} <span class="text-secondaryColor">{{ teamSectionContent.section_subtitle || 'team members' }}</span>
                </h2>
                <p class="mt-3 text-sm sm:text-base font-customRegular text-[#3E3E3E] text-center w-full sm:w-[80%] lg:w-[50%] mx-auto px-4 sm:px-0">
                    {{ teamSectionContent.section_description || 'Values that drive us' }}
                </p>
            </div>

            <div class="mt-8 sm:mt-10 lg:mt-14 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-10 lg:gap-16">
                <div *ngFor="let member of teamMembers" class="bg-[#EEF9FD] rounded-2xl py-8 sm:py-10 lg:py-14 px-6 sm:px-8 lg:px-10 hover:shadow-lg transition-all duration-300">
                    <img [src]="member.profileImage || '/images/profile.svg'" 
                         class="w-28 sm:w-32 lg:w-36 mx-auto rounded-full object-cover aspect-square border-4 border-white shadow-sm" 
                         [alt]="member.name"
                         onerror="this.src='/images/profile.svg'">
                    <div class="text-center my-5 sm:my-6 lg:my-7">
                        <h3 class="text-black text-xl sm:text-2xl font-customBold pb-1">{{ member.name }}</h3>
                        <h5 class="text-[#3E3E3E] text-sm sm:text-base font-customMedium uppercase tracking-wide">{{ member.position }}</h5>
                        <p class="text-textGray text-xs sm:text-sm font-customLight pt-2 sm:pt-3 line-clamp-3">{{ member.bio }}</p>

                    </div>
                    <ul class="flex items-center justify-center gap-4 sm:gap-5" *ngIf="member.socialLinks">
                        <li *ngIf="member.socialLinks.facebook"><a [href]="member.socialLinks.facebook" target="_blank"><img src="/icons/facebook.svg" class="w-5 sm:w-6" alt=""></a></li>
                        <li *ngIf="member.socialLinks.twitter"><a [href]="member.socialLinks.twitter" target="_blank"><img src="/icons/twitter.svg" class="w-5 sm:w-6" alt=""></a></li>
                        <li *ngIf="member.socialLinks.instagram"><a [href]="member.socialLinks.instagram" target="_blank"><img src="/icons/instagram.svg" class="w-5 sm:w-6" alt=""></a></li>
                        <li *ngIf="member.socialLinks.linkedin"><a [href]="member.socialLinks.linkedin" target="_blank"><img src="/icons/linkedIn.svg" class="w-5 sm:w-6" alt=""></a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="mt-12 sm:mt-16 lg:mt-20">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16">
                <div>
                    <div class="">
                        <h5 class="text-black uppercase text-base sm:text-lg font-customBold pb-3 text-center lg:text-left">{{ contactSectionContent.section_label || 'Contact us' }}</h5>
                        <h2 class="text-3xl sm:text-4xl font-customBold text-primaryColor capitalize text-center lg:text-left">
                            {{ contactSectionContent.section_title || 'Get in' }} <span class="text-secondaryColor">{{ contactSectionContent.section_subtitle || 'touch today' }}</span>
                        </h2>
                        <p class="mt-3 text-sm sm:text-base font-customRegular text-[#3E3E3E] text-center lg:text-left lg:pe-32">
                            {{ contactSectionContent.section_description }}
                        </p>
                    </div>

                    <div class="mt-6 sm:mt-8 lg:mt-10 grid gap-3 sm:gap-4">
                        <div class="flex items-center gap-3 justify-center lg:justify-start">
                            <div class="w-4 sm:w-5 relative top-[2px]">
                                <img src="/icons/email.svg" alt="">
                            </div>
                            <p class="font-customRegular text-sm sm:text-base text-[#3E3E3E]">{{ contactSectionContent.email }}</p>
                        </div>
                        <div class="flex items-center gap-3 justify-center lg:justify-start">
                            <div class="w-4 sm:w-5 relative top-[2px]">
                                <img src="/icons/phone.svg" alt="">
                            </div>
                            <p class="font-customRegular text-sm sm:text-base text-[#3E3E3E]">{{ contactSectionContent.phone }}</p>
                        </div>
                        <div class="flex items-start gap-3 justify-center lg:justify-start text-center lg:text-left">
                            <div class="w-4 sm:w-5 relative top-1">
                                <img src="/icons/mark.svg" alt="">
                            </div>
                            <p class="font-customRegular text-sm sm:text-base text-[#3E3E3E] whitespace-pre-line">{{ contactSectionContent.address }}</p>
                        </div>
                    </div>
                </div>
                
                <div>
                    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="bg-[#F0F9F8] rounded-2xl p-6 sm:p-8 lg:p-10 overflow-hidden">
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-5">
                            <div class="sm:col-span-1">
                                <label class="lable" for="about-name">Name</label>
                                <input type="text" formControlName="name" class="input-box" id="about-name" placeholder="John Carter">
                            </div>
                            <div class="sm:col-span-1">
                                <label class="lable" for="about-email">Email</label>
                                <input type="email" formControlName="email" class="input-box" id="about-email" placeholder="example@email.com">
                            </div>
                            <div class="sm:col-span-1">
                                <label class="lable" for="about-phone">Phone</label>
                                <input type="tel" formControlName="phone" class="input-box" id="about-phone" placeholder="(123) 456 - 789">
                            </div>
                            <div class="sm:col-span-1">
                                <label class="lable" for="about-company">Company</label>
                                <input type="text" formControlName="company" class="input-box" id="about-company" placeholder="Facebook">
                            </div>
                            <div class="col-span-1 sm:col-span-2">
                                <label class="lable" for="about-message">Message</label>
                                <textarea formControlName="message" class="input-box h-24 sm:h-32 rounded-2xl resize-none w-full" id="about-message"
                                    placeholder="Please type your message here..."></textarea>
                            </div>
                        </div>

                        <div class="mt-5">
                            <button type="submit" [disabled]="!contactForm.valid || isSubmitting" 
                                    class="theme-button px-8 sm:px-10 py-3 text-center w-full sm:w-auto disabled:opacity-50">
                                {{ isSubmitting ? 'Sending...' : 'Send message' }}
                            </button>
                            <p *ngIf="submitSuccess" class="text-green-600 font-bold mt-2 text-center sm:text-left">Message sent successfully!</p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>