<section class="pb-10">
    <div class="absolute top-0 end-0 w-full z-[-1]">
        <img src="/uploads/content/1760278997343-home-img.png" class="w-[78%] absolute top-0 end-0" alt="">
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="px-4 sm:px-8 lg:px-32 pt-8 sm:pt-12 lg:pt-16">
        <div class="flex justify-center items-center h-64">
            <div class="animate-spin rounded-full h-32 w-32 border-b-2 border-primaryColor"></div>
        </div>
    </div>

    <!-- Error State -->
    <div *ngIf="loadingError" class="px-4 sm:px-8 lg:px-32 pt-8 sm:pt-12 lg:pt-16">
        <div class="text-center">
            <p class="text-red-500">Failed to load content. Please try again later.</p>
        </div>
    </div>

    <!-- Content -->
    <div *ngIf="!isLoading && !loadingError" class="px-4 sm:px-8 lg:px-32 pt-8 sm:pt-12 lg:pt-16">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-20">
            <div>
                <!-- Dynamic Hero Content -->
                <h3 class="text-black text-3xl sm:text-4xl lg:text-5xl font-customBold pb-1">
                    {{ heroContent.main_title || 'Your Partner In' }}
                </h3>
                <h3 class="text-secondaryColor text-3xl sm:text-4xl lg:text-5xl font-customBold pb-1">
                    {{ heroContent.sub_title || 'Remote Health' }}
                </h3>
                <h2 class="text-secondaryColor text-4xl sm:text-5xl lg:text-7xl font-customBold">
                    {{ heroContent.main_text || 'Monitoring' }}
                </h2>

                <p class="text-[#3E3E3E] text-sm sm:text-base font-customRegular pt-4 lg:pe-28">
                    {{ heroContent.description || 'Empowering healthcare providers and patients with an integrated telemedicine ecosystem—where data, devices, and care converge effortlessly.' }}
                </p>

                <div class="mt-8">
                    <button class="theme-button px-10 py-3 text-center flex items-center gap-2">
                        {{ heroContent.button_text || 'Know More' }} 
                        <img src="/icons/arrow-right.svg" class="w-3" alt="">
                    </button>
                </div>
            </div>
            <div class="order-first lg:order-last">
                <img [src]="heroContent.image || '/images/home-img.png'" 
                     class="w-full relative lg:bottom-10" 
                     [alt]="heroContent.main_title">
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="bg-backgroundColor px-4 sm:px-8 lg:px-32 py-12 sm:py-16 lg:py-20 mt-12 sm:mt-18 lg:mt-24" *ngIf="!isLoading">
        <div>
            <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor capitalize text-center">
                {{ featuresContent.section_title || 'Innovating Remote Healthcare,' }}
                <span class="text-secondaryColor">{{ featuresContent.section_subtitle || 'The Carebridge Way' }}</span>
            </h2>

            <div class="mt-6 sm:mt-8 lg:mt-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-10 lg:gap-20">
                <div class="place-content-center" *ngFor="let feature of featuresList">
                    <!-- Updated Icon Container as per user request -->
                    <div class="w-16 sm:w-20 lg:w-[20%] mx-auto">
                        <img [src]="feature.icon || '/images/ImagePlaceholder.png'" 
                             class="w-full rounded-md object-contain" 
                             [alt]="feature.title"
                             onerror="this.src='/images/ImagePlaceholder.png'">
                    </div>
                    <!-- Title -->
                    <p class="text-black font-customMedium text-center mt-5 text-lg sm:text-xl">
                        {{ feature.title }}
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="">
        <div class="px-4 sm:px-8 lg:px-32 pt-8 sm:pt-12 lg:pt-16">
            <div>
                <div>
                    <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor capitalize text-center">
                        {{ challengesContent.section_title || 'Remote Healthcare' }}
                        <span class="text-secondaryColor">{{ challengesContent.section_subtitle || 'Challenges' }}</span>
                    </h2>
                    <p class="mt-3 text-sm sm:text-base text-center font-customRegular text-[#3E3E3E] w-full sm:w-3/4 lg:w-1/2 mx-auto px-4 sm:px-0">
                        {{ challengesContent.section_description || 'Lorem ipsum dolor sit amet consectetur adipiscing elit semper dalar elementum tempus hac tellus libero accumsan.' }}
                    </p>
                </div>

                <div class="mt-8 sm:mt-10 lg:mt-14 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10">
                    <div *ngFor="let challenge of challengesList; let i = index" class="border border-[#99D7C3] p-5 sm:p-6 lg:p-7 rounded-xl bg-white">
                        <h2 class="text-3xl sm:text-4xl font-customBold text-center text-secondaryColor">0{{i+1}}
                        </h2>
                        <div class="mt-5 text-center">
                            <p class="font-customBold text-black text-lg sm:text-xl">{{challenge.title}}</p>
                            <p class="text-[#3E3E3E] text-sm sm:text-base font-customRegular pt-2">{{challenge.description}}</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-12 sm:mt-16 lg:mt-20">
                <div>
                    <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor capitalize text-center">
                        {{ ecosystemContent.section_title || 'End-to-End' }}
                        <span class="text-secondaryColor">{{ ecosystemContent.section_subtitle || 'Telemedicine Ecosystem' }}</span>
                    </h2>
                    <p class="mt-3 text-sm sm:text-base text-center font-customRegular text-[#3E3E3E] w-full sm:w-3/4 lg:w-1/2 mx-auto px-4 sm:px-0">
                        {{ ecosystemContent.section_description || 'From connected monitoring devices to a secure patient-data platform and on-demand clinical support, Carebridge Technologies delivers everything you need to scale remote care—seamlessly' }}
                    </p>
                </div>

                <div class="mt-8 sm:mt-10 lg:mt-14 grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-10">
                    <!-- Ecosystem item 1 (Platform - distinct layout) -->
                    <div *ngIf="ecosystemList.length > 0" class="bg-backgroundColor p-6 sm:p-8 lg:p-10 rounded-xl">
                        <div class="mx-auto w-[70%]">
                            <img [src]="ecosystemList[0].image || '/images/desktop-mockup.svg'" class="w-full" [alt]="ecosystemList[0].title">
                        </div>
                        <div class="mt-5 text-center">
                            <p class="font-customBold text-black text-xl sm:text-2xl">{{ecosystemList[0].title}}</p>
                            <p class="text-black text-sm sm:text-base font-customRegular pt-2 px-4 sm:px-10 lg:px-20">
                                {{ecosystemList[0].description}}
                            </p>
                        </div>

                        <a [href]="ecosystemList[0].link || '#'"
                            class="flex items-center gap-2 mt-5 text-sm font-customRegular text-primaryColor justify-center">Learn
                            more <img src="/icons/arrow-right-blue.svg" class="w-2" alt=""></a>
                    </div>
                    
                    <div class="grid gap-6 sm:gap-8 lg:gap-10">
                         <!-- Ecosystem item 2 (Devices) -->
                        <div *ngIf="ecosystemList.length > 1" class="bg-backgroundColor p-5 sm:p-6 lg:p-7 rounded-xl flex flex-col sm:flex-row items-center gap-6 sm:gap-8 lg:gap-10">
                            <div class="w-full sm:w-[70%] text-center sm:text-left">
                                <p class="font-customBold text-black text-xl sm:text-2xl">{{ecosystemList[1].title}}</p>
                                <p class="text-black text-sm font-customRegular pt-2 sm:pe-10 lg:pe-20">
                                    {{ecosystemList[1].description}}
                                </p>
                                <a [href]="ecosystemList[1].link || '#'"
                                    class="flex items-center gap-2 mt-6 sm:mt-10 text-sm font-customRegular text-primaryColor justify-center sm:justify-start">Learn
                                    more <img src="/icons/arrow-right-blue.svg" class="w-2" alt=""></a>
                            </div>
                            <div class="w-full sm:w-[30%] h-[120px] sm:h-[150px] place-content-center text-center sm:text-end">
                                <img [src]="ecosystemList[1].image || '/images/bundle.svg'" class="w-20 sm:w-28 object-contain mx-auto" [alt]="ecosystemList[1].title">
                            </div>
                        </div>

                        <!-- Ecosystem item 3 (Services) -->
                        <div *ngIf="ecosystemList.length > 2" class="bg-backgroundColor p-5 sm:p-6 lg:p-7 rounded-xl flex flex-col sm:flex-row items-center gap-6 sm:gap-8 lg:gap-10 overflow-hidden">
                             <div class="w-full sm:w-[70%] text-center sm:text-left">
                                <p class="font-customBold text-black text-xl sm:text-2xl">{{ecosystemList[2].title}}</p>
                                <p class="text-black text-sm font-customRegular pt-2 sm:pe-10 lg:pe-20">
                                    {{ecosystemList[2].description}}
                                </p>
                                <a [href]="ecosystemList[2].link || '#'"
                                    class="flex items-center gap-2 mt-6 sm:mt-10 text-sm font-customRegular text-primaryColor justify-center sm:justify-start">Learn
                                    more <img src="/icons/arrow-right-blue.svg" class="w-2" alt=""></a>
                            </div>
                            <div class="w-full sm:w-[30%] h-[120px] sm:h-[150px] place-content-center flex-shrink-0">
                                <img [src]="ecosystemList[2].image || '/images/mobile-mockup.svg'" class="w-full h-full object-contain max-w-full" [alt]="ecosystemList[2].title">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Target Audience Section -->
            <div class="mt-12 sm:mt-16 lg:mt-20" *ngIf="!isLoading">
                <div class="flex flex-col lg:flex-row gap-6 lg:gap-0">
                    <div class="w-full lg:w-1/4 flex flex-col">

                        <div class="mb-4 lg:mb-6">
                            <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor text-center lg:text-start">
                                {{ targetAudienceContent.section_title || 'Who is it' }}
                                <span class="text-secondaryColor">{{ targetAudienceContent.section_subtitle || 'for?' }}</span>
                            </h2>
                        </div>
                        <ng-container *ngFor="let tab of targetAudienceTabs; let i = index">
                            <button (click)="setActiveTab(tab.id)" class="w-full transition relative text-center lg:text-start px-4 lg:ps-10 py-3 lg:py-0"
                                [ngClass]="[
          activeTab === tab.id
            ? 'text-black text-base sm:text-lg font-customBold bg-[url(/images/active-bg.png)] bg-no-repeat h-16 lg:h-26 bg-cover bg-center lg:w-[355px] rounded-lg lg:rounded-none'
            : 'text-[#3E3E3E] text-base sm:text-lg font-customRegular hover:text-black border border-gray-200 lg:border-none rounded-lg lg:rounded-none', i !== 0 && activeTab !== tab.id && targetAudienceTabs[i-1].id !== activeTab ? 'mt-3 lg:mt-5' : '' ]
        ">
                                {{ tab.title }}
                            </button>
                        </ng-container>
                    </div>

                    <div class="w-full lg:w-3/4 bg-[#F0F9FA] rounded-2xl p-6 sm:p-8 lg:px-16">
                        <ng-container *ngFor="let tab of targetAudienceTabs">
                            <div *ngIf="activeTab === tab.id" class="pt-6 lg:pt-10">
                                <div class="grid grid-cols-1 lg:grid-cols-6 gap-6 lg:gap-20">
                                    <div class="col-span-1 lg:col-span-4 order-2 lg:order-1">
                                        <img [src]="tab.img || tab.image" [alt]="tab.title"
                                            class="rounded-xl w-full h-full object-cover" />
                                    </div>
                                    <div class="col-span-1 lg:col-span-2 place-content-center lg:place-content-end pb-0 lg:pb-5 order-1 lg:order-2">
                                        <p class="text-[#3E3E3E] text-sm sm:text-base font-customRegular mb-3 text-center lg:text-left">{{ tab.desc || tab.description }}</p>
                                        <a href=""
                                            class="flex items-center gap-2 text-sm sm:text-base font-customSemiBold text-primaryColor justify-center lg:justify-start">Explore
                                            Platforms<img src="/icons/arrow-right-blue.svg" class="w-4" alt=""></a>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>

            </div>
        </div>

        <!-- Company Logos Section -->
        <div class="mt-12 sm:mt-16 lg:mt-20 py-12 sm:py-14 lg:py-16 px-4 sm:px-8 lg:px-32 bg-[#F0F9F9]" *ngIf="!isLoading">
            <div>
                <h2 class="text-2xl s opacity-40m:text-3xl font-customBold text-primaryColor text-center">
                    {{ companyLogosContent.section_title || 'Trusted by' }}
                    <span class="text-secondaryColor">{{ companyLogosContent.section_subtitle || '10,000+ companies around the world' }}</span>
                </h2>
            </div>
            <div class="mt-6 sm:mt-8 lg:mt-10 flex flex-wrap items-center justify-center lg:justify-between gap-6 sm:gap-8 lg:gap-10">
                <img *ngFor="let logo of companyLogos" 
                     [src]="logo.logoImage" 
                     [alt]="logo.companyName"
                     class="w-20 sm:w-24 lg:w-32">
            </div>
        </div>

        <div class="mt-12 sm:mt-16 lg:mt-20 px-4 sm:px-8 lg:px-32">
            <div>
                <h2 class="text-2xl sm:text-3xl font-customBold text-primaryColor text-center">
                    {{ testimonialsContent.section_title || 'What our' }}
                    <span class="text-secondaryColor">{{ testimonialsContent.section_subtitle || 'Clients say' }}</span>
                </h2>
                <p class="mt-3 text-sm sm:text-base text-center font-customRegular text-[#3E3E3E] w-full sm:w-3/4 lg:w-1/2 mx-auto px-4 sm:px-0">
                    {{ testimonialsContent.section_description || 'Lorem ipsum dolor sit amet consectetur adipiscing elit semper dalar elementum tempus hac tellus libero accumsan.' }}
                </p>
            </div>

            <div class="mt-8 sm:mt-10 lg:mt-14 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-10 lg:gap-16">
                <!-- Dynamic Testimonials Loop -->
                <div *ngFor="let testimonial of testimonialsList" class="bg-[#EEF9FD] rounded-2xl p-6 sm:p-8 lg:p-10">
                    <img [src]="testimonial.image || '/images/profile.svg'" class="w-20 sm:w-24" [alt]="testimonial.author">
                    <div class="my-5 sm:my-6 lg:my-7">
                        <div>
                            <h3 class="text-black text-lg sm:text-xl font-customBold pb-1">"{{testimonial.quote}}"</h3>
                            <p class="text-[#3E3E3E] text-sm font-customLight pt-1">{{testimonial.text}}</p>
                        </div>

                        <div class="mt-5 sm:mt-6 lg:mt-7">
                            <h3 class="text-black text-sm sm:text-base font-customBold pb-1">{{testimonial.author}}</h3>
                            <p class="text-[#3E3E3E] text-xs sm:text-sm font-customLight pt-1">{{testimonial.position}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="px-4 sm:px-8 lg:px-32 mt-12 sm:mt-16 lg:mt-20">
            <div class="grid grid-cols-1 lg:grid-cols-2 bg-[#005783] rounded-2xl overflow-hidden">
                <div class="relative order-2 lg:order-1">
                    <img [src]="ctaContent.image || '/images/home-image.svg'" class="w-full h-full" alt="CTA">
                </div>
                <div class="p-8 sm:p-12 lg:p-20 place-content-center text-center lg:text-start grid gap-6 lg:gap-10 order-1 lg:order-2">
                    <div>
                        <h3 class="font-customBold text-2xl sm:text-3xl text-white pb-1 sm:pb-3">
                            {{ ctaContent.title || 'Create your account today and get started for free!' }}
                        </h3>
                    </div>
                    <div class="mt-3 sm:mt-5">
                        <a [routerLink]="ctaContent.link || '/contact-us'" class="inline-block">
                            <button class="theme-button px-8 sm:px-10 py-3 text-center flex items-center gap-2 mx-auto lg:mx-0">
                                {{ ctaContent.button_text || 'Get in Touch' }} 
                                <img src="/icons/arrow-right.svg" class="w-3" alt="">
                            </button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>